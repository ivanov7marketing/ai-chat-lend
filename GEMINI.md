# AI Chat Landing

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
–ß–∞—Ç-–ª–µ–Ω–¥–∏–Ω–≥ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å–º–µ—Ç—ã —Ä–µ–º–æ–Ω—Ç–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã.
AI-—ç–∫—Å–ø–µ—Ä—Ç ¬´–ú–∞–∫—Å¬ª –≤–µ–¥—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ 8-—à–∞–≥–æ–≤—É—é –≤–æ—Ä–æ–Ω–∫—É,
—Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–º–æ–Ω—Ç–∞ –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç (–ª–∏–¥).
–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç –∏ –ø–æ–ª—É—á–∞–µ—Ç PDF-—Å–º–µ—Ç—É.

## –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

[–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—á–∞—Ç-–ª–µ–Ω–¥–∏–Ω–≥)]
        ‚Üï WebSocket / REST
[Backend API (Node.js / Fastify)]
        ‚Üï
[RouterAI Gateway ‚Äî GPT-4o / Claude 3.5 / Gemini Flash]
        ‚Üï
[RAG / –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (Qdrant ‚Äî self-hosted)]
[–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ä–∞–±–æ—Ç + —Ü–µ–Ω—ã (PostgreSQL)]
[–î–≤–∏–∂–æ–∫ —Ä–∞—Å—á—ë—Ç–∞ —Å–º–µ—Ç—ã]
[PDF-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (Puppeteer)]
        ‚Üï
[Telegram Bot API ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä—É]
[–Ø–Ω–¥–µ–∫—Å –ú–µ—Ç—Ä–∏–∫–∞ ‚Üí —Å–æ–±—ã—Ç–∏—è]
[CRM webhook ‚Üí amoCRM / –ë–∏—Ç—Ä–∏–∫—Å24]
        ‚Üï
[–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å]

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –°–ª–æ–π         | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è                           |
|--------------|--------------------------------------|
| Frontend     | React + Tailwind CSS + Framer Motion |
| Backend      | Node.js, Fastify, WebSocket (ws)     |
| LLM-—à–ª—é–∑     | RouterAI (routerai.ru)               |
| RAG          | Qdrant (self-hosted Docker)          |
| –ë–î           | PostgreSQL 16                        |
| PDF          | Puppeteer (headless Chrome)          |
| –•—Ä–∞–Ω–∏–ª–∏—â–µ    | Yandex Object Storage (S3)           |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  | Telegram Bot API                     |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞    | –Ø–Ω–¥–µ–∫—Å –ú–µ—Ç—Ä–∏–∫–∞ JS API                |
| –î–µ–ø–ª–æ–π       | Docker Compose, VPS Timeweb Ubuntu 24.04 |

## Design System
Before writing ANY frontend code (components, styles, layouts),
read DESIGN.md in the project root. Follow it strictly.
Never use hardcoded hex colors or arbitrary Tailwind classes
that are not defined in DESIGN.md.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

/backend         ‚Äî Fastify API + WebSocket —Å–µ—Ä–≤–µ—Ä
  /src
    /routes      ‚Äî HTTP-–º–∞—Ä—à—Ä—É—Ç—ã (REST)
    /ws          ‚Äî WebSocket-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
    /services    ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–≤–æ—Ä–æ–Ω–∫–∞, —Ä–∞—Å—á—ë—Ç, PDF, Telegram, RAG)
    /db          ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ pg, –º–∏–≥—Ä–∞—Ü–∏–∏, SQL-–∑–∞–ø—Ä–æ—Å—ã
  Dockerfile
  package.json

/frontend        ‚Äî React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  /src
    /components  ‚Äî Chat, Hero, Funnel, Buttons, ProgressBar
    /hooks
    /store
  Dockerfile

/nginx           ‚Äî nginx.conf
/puppeteer       ‚Äî —Å–µ—Ä–≤–∏—Å PDF-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
docker-compose.yml
.env             ‚Äî —Å–µ–∫—Ä–µ—Ç—ã (–ù–ï –≤ git)

## Backend ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞

- –Ø–∑—ã–∫: JavaScript (–ù–ï TypeScript)
- –§—Ä–µ–π–º–≤–æ—Ä–∫: Fastify (–ù–ï Express)
- WebSocket: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ ws
- –ë–î: pg (node-postgres), –ë–ï–ó ORM (–±–µ–∑ Prisma, –±–µ–∑ Sequelize)
- –ü–æ—Ä—Ç: 3000
- –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ process.env
- UUID –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ crypto.randomUUID()
- Async/await –≤–µ–∑–¥–µ, –±–µ–∑ –∫–æ–ª–±—ç–∫–æ–≤

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL ‚Äî –ø–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞

sessions (
  id UUID PRIMARY KEY,
  created_at TIMESTAMP DEFAULT now(),
  status VARCHAR(20), -- active / closed / converted
  utm JSONB
)

messages (
  id UUID PRIMARY KEY,
  session_id UUID REFERENCES sessions(id),
  role VARCHAR(10), -- user / bot / manager
  content TEXT,
  created_at TIMESTAMP DEFAULT now()
)

leads (
  id UUID PRIMARY KEY,
  session_id UUID REFERENCES sessions(id),
  contact_type VARCHAR(20), -- telegram / whatsapp / email
  contact_value VARCHAR(255),
  apartment_params JSONB,
  estimate_min NUMERIC,
  estimate_max NUMERIC,
  created_at TIMESTAMP DEFAULT now()
)

work_types (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255),
  unit VARCHAR(50),
  category VARCHAR(100)
)

price_matrix (
  work_type_id INT REFERENCES work_types(id),
  segment VARCHAR(20), -- econom / standard / comfort / premium
  price_min NUMERIC,
  price_max NUMERIC,
  updated_at TIMESTAMP DEFAULT now()
)

material_matrix (
  work_type_id INT REFERENCES work_types(id),
  segment VARCHAR(20),
  material_name VARCHAR(255),
  price_per_unit NUMERIC
)

norms (
  work_type_id INT REFERENCES work_types(id),
  room_type VARCHAR(50), -- kitchen / living / bedroom / bathroom / hall
  coefficient NUMERIC
)

estimates (
  id UUID PRIMARY KEY,
  session_id UUID REFERENCES sessions(id),
  params JSONB,
  result_json JSONB,
  pdf_url VARCHAR(500),
  created_at TIMESTAMP DEFAULT now()
)

dialog_labels (
  session_id UUID REFERENCES sessions(id),
  label VARCHAR(30), -- converted / dropped_at_step_N / engaged / cold
  dropped_at_step INT,
  labeled_at TIMESTAMP DEFAULT now()
)

## –í–æ—Ä–æ–Ω–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ —Å–º–µ—Ç—ã (8 —à–∞–≥–æ–≤)

–ö–∞–∂–¥—ã–π —à–∞–≥ ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ú–∞–∫—Å–∞ + –∫–Ω–æ–ø–∫–∏-–æ—Ç–≤–µ—Ç—ã. –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤–≤–µ—Ä—Ö—É.

| –®–∞–≥ | –í–æ–ø—Ä–æ—Å –ú–∞–∫—Å–∞       | –í–∞—Ä–∏–∞–Ω—Ç—ã                                                              |
|-----|--------------------|-----------------------------------------------------------------------|
| 1   | –ü–ª–æ—â–∞–¥—å –∫–≤–∞—Ä—Ç–∏—Ä—ã?  | –í–≤–æ–¥ —á–∏—Å–ª–∞ (–º¬≤)                                                       |
| 2   | –°–∫–æ–ª—å–∫–æ –∫–æ–º–Ω–∞—Ç?    | 1 / 2 / 3 / 4+                                                        |
| 3   | –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã | –ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞ (—á–µ—Ä–Ω–æ–≤–∞—è) / –í—Ç–æ—Ä–∏—á–∫–∞ (–∫–æ—Å–º–µ—Ç–∏–∫–∞) / –í—Ç–æ—Ä–∏—á–∫–∞ (–∫–∞–ø—Ä–µ–º–æ–Ω—Ç) |
| 4   | –¢–∏–ø —Ä–µ–º–æ–Ω—Ç–∞        | –ö–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–π / –ö–∞–ø–∏—Ç–∞–ª—å–Ω—ã–π / –ü–æ–¥ –∫–ª—é—á                                |
| 5   | –ü–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞?    | –ù–µ—Ç / –°–Ω–æ—Å/–≤–æ–∑–≤–µ–¥–µ–Ω–∏–µ —Å—Ç–µ–Ω / –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–∞–Ω—É–∑–ª–∞                      |
| 6   | –î–∏–∑–∞–π–Ω-–ø—Ä–æ–µ–∫—Ç?     | –ù–µ—Ç / –î–∞, –±–∞–∑–æ–≤—ã–π / –î–∞, –ø–æ–ª–Ω—ã–π                                        |
| 7   | –¶–µ–Ω–æ–≤–æ–π —Å–µ–≥–º–µ–Ω—Ç    | –≠–∫–æ–Ω–æ–º / –°—Ç–∞–Ω–¥–∞—Ä—Ç / –ö–æ–º—Ñ–æ—Ä—Ç / –ü—Ä–µ–º–∏—É–º                                 |
| 8   | –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä—Ç—ë–∂?  | –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª / –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å                                           |

–ü–æ—Å–ª–µ —à–∞–≥–∞ 8 ‚Üí –∞–Ω–∏–º–∞—Ü–∏—è ¬´–°—á–∏—Ç–∞—é —Å–º–µ—Ç—É...¬ª ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤–∏–ª–∫–∞ —Ü–µ–Ω (min/max) ‚Üí –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ PDF ‚Üí –≤—ã–±–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–∞ (Telegram / WhatsApp / Email) ‚Üí —Å–±–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–∞ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É.

## –ê–ª–≥–æ—Ä–∏—Ç–º –¥–≤–∏–∂–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ —Å–º–µ—Ç—ã

1. –í–∑—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ –≤–æ—Ä–æ–Ω–∫–∏
2. –†–∞–∑–ª–æ–∂–∏—Ç—å –æ–±—â—É—é –ø–ª–æ—â–∞–¥—å –Ω–∞ –∫–æ–º–Ω–∞—Ç—ã (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞ —Ç–∏–ø–æ–≤—ã—Ö –ø—Ä–æ–ø–æ—Ä—Ü–∏–π)
3. –ü–æ –Ω–æ—Ä–º–∞–º —É–º–Ω–æ–∂–∏—Ç—å –ø–ª–æ—â–∞–¥—å –∫–∞–∂–¥–æ–π –∫–æ–º–Ω–∞—Ç—ã –Ω–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç ‚Üí –æ–±—ä—ë–º —Ä–∞–±–æ—Ç
4. –ü–æ price_matrix (—Å–µ–≥–º–µ–Ω—Ç) ‚Üí —Ü–µ–Ω–∞ –º–∏–Ω/–º–∞–∫—Å –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É √ó –æ–±—ä—ë–º
5. –°—É–º–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ –≤—Å–µ–º –≤–∏–¥–∞–º —Ä–∞–±–æ—Ç ‚Üí –∏—Ç–æ–≥–æ–≤–∞—è –≤–∏–ª–∫–∞
6. –ï—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä—Ç—ë–∂ ‚Üí CV —á–µ—Ä–µ–∑ RouterAI –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø–ª–æ—â–∞–¥–∏ ‚Üí –∑–∞–º–µ–Ω—è–µ—Ç —ç–≤—Ä–∏—Å—Ç–∏–∫—É

## –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ú–∞–∫—Å–∞

–ü—Ä–∏–≤–µ—Ç! –Ø –ú–∞–∫—Å ‚Äî AI-—ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Ä–µ–º–æ–Ω—Ç—É –∫–≤–∞—Ä—Ç–∏—Ä –≤ –ß–µ–ª—è–±–∏–Ω—Å–∫–µ.
–ü–æ–º–æ–≥—É —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–º–æ–Ω—Ç–∞, —Ä–∞—Å—Å–∫–∞–∂—É –æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö
–∏ –æ—Ç–≤–µ—á—É –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã.

–° —á–µ–≥–æ –Ω–∞—á–Ω—ë–º?

–ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ –ø–æ–¥ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º:
- üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–º–æ–Ω—Ç–∞ (–≤—ã–¥–µ–ª–µ–Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ)
- üìÖ –£–∑–Ω–∞—Ç—å —Å—Ä–æ–∫–∏ —Ä–µ–º–æ–Ω—Ç–∞
- üè¢ –û –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—è—Ö
- üí° –°–æ–≤–µ—Ç—ã –ø–æ —Ä–µ–º–æ–Ω—Ç—É
- ‚ùì –ó–∞–¥–∞—Ç—å —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ —á–∞—Ç–∞ –≤–Ω–µ –≤–æ—Ä–æ–Ω–∫–∏ (RAG-—Ä–µ–∂–∏–º)

- –í–æ–ø—Ä–æ—Å—ã –æ –∫–æ–º–ø–∞–Ω–∏–∏, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö, —Å—Ä–æ–∫–∞—Ö, –≥–∞—Ä–∞–Ω—Ç–∏—è—Ö ‚Üí –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ Qdrant RAG
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞: —Å—É—Ç—å ‚Üí 1-2 —É—Ç–æ—á–Ω—è—é—â–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Üí –º—è–≥–∫–∏–π CTA
- –ü—Ä–∞–≤–∏–ª–æ —ç—Å–∫–∞–ª–∞—Ü–∏–∏: –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–æ–ø—Ä–æ—Å, ¬´–Ω–µ –ø–æ–Ω–∏–º–∞—é¬ª, —Ç—Ä–∏–≥–≥–µ—Ä–Ω—ã–µ —Å–ª–æ–≤–∞ (¬´–¥–æ—Ä–æ–≥–æ¬ª, ¬´–Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç¬ª, ¬´—Ö–æ—á—É –≥–æ–≤–æ—Ä–∏—Ç—å —Å —á–µ–ª–æ–≤–µ–∫–æ–º¬ª) ‚Üí –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∂–∏–≤–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
- Human takeover: –º–µ–Ω–µ–¥–∂–µ—Ä –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç WebSocket-–∫–∞–Ω–∞–ª, —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ –ø—Ä–µ–∫—Ä–∞—â–∞—é—Ç—Å—è

## WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª (—Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π)

// –ö–ª–∏–µ–Ω—Ç ‚Üí —Å–µ—Ä–≤–µ—Ä
{ "type": "session_start", "utm": {} }
{ "type": "user_message", "content": "—Ç–µ–∫—Å—Ç" }
{ "type": "funnel_answer", "step": 3, "value": "–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞" }
{ "type": "contact_submit", "contact_type": "telegram", "value": "@username" }

// –°–µ—Ä–≤–µ—Ä ‚Üí –∫–ª–∏–µ–Ω—Ç
{ "type": "bot_message", "content": "—Ç–µ–∫—Å—Ç –ú–∞–∫—Å–∞", "buttons": [] }
{ "type": "funnel_question", "step": 1, "question": "...", "input_type": "number" }
{ "type": "estimate_result", "min": 680000, "max": 940000, "params": {} }
{ "type": "typing", "active": true }
{ "type": "escalate", "reason": "trigger_word" }

## HTTP REST API

GET  /health               ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∂–∏–≤–æ—Å—Ç–∏
POST /api/session          ‚Äî —Å–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é
POST /api/lead             ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–∏–¥
GET  /api/estimate/:id     ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–º–µ—Ç—É
POST /api/estimate/pdf     ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF
GET  /admin/dialogs        ‚Äî —Å–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
GET  /admin/dialog/:id     ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥
POST /admin/rag/upload     ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
PUT  /admin/prices         ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ price_matrix

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- RouterAI ‚Äî LLM-—à–ª—é–∑ (ROUTERAI_API_KEY), –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ
- Telegram Bot API ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É –ø—Ä–∏ –Ω–æ–≤–æ–º –ª–∏–¥–µ (TELEGRAM_BOT_TOKEN, TELEGRAM_CHAT_ID)
- Qdrant ‚Äî self-hosted –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î –≤ Docker, –ø–æ—Ä—Ç 6333
- Puppeteer ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π Docker-—Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF
- –Ø–Ω–¥–µ–∫—Å –ú–µ—Ç—Ä–∏–∫–∞ ‚Äî —Å–æ–±—ã—Ç–∏—è: chat_opened, estimate_started, estimate_completed, lead_created
- CRM webhook ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π –ª–∏–¥–∞

## –≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- MVP (—Ç–µ–∫—É—â–∏–π —ç—Ç–∞–ø): –ª–µ–Ω–¥–∏–Ω–≥ + –≤–æ—Ä–æ–Ω–∫–∞ (8 —à–∞–≥–æ–≤) + —Ä–∞—Å—á—ë—Ç —Å–º–µ—Ç—ã + –≤–∏–ª–∫–∞ + —Å–±–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–∞ + Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –ë–µ–∑ PDF, –±–µ–∑ RAG, –±–µ–∑ –∞–¥–º–∏–Ω–∫–∏
- v1.1: PDF-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è Puppeteer + –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
- v1.2: RAG (Qdrant) + —Å–≤–æ–±–æ–¥–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã + –±–∞–∑–æ–≤–∞—è –∞–¥–º–∏–Ω–∫–∞
- v2.0: –ø–æ–ª–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞ + —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ + human takeover + A/B —Ç–µ—Å—Ç—ã

## –î–µ–ø–ª–æ–π

- –°–µ—Ä–≤–µ—Ä: 89.23.102.93 (Ubuntu 24.04, Timeweb)
- –î–æ–º–µ–Ω: ai-chat-lend.ru
- SSL: Let's Encrypt (certbot), –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: deploy
- –ü—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞: /opt/chatbot
- –ö–æ–º–∞–Ω–¥–∞ –¥–µ–ø–ª–æ—è: ssh deploy@89.23.102.93 "/opt/chatbot/deploy.sh"
- Git: git push origin main ‚Üí git pull –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Üí docker compose up -d --build
